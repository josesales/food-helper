"use strict";(self.webpackChunkfood_helper=self.webpackChunkfood_helper||[]).push([[581],{2988:(e,a,r)=>{r.d(a,{A:()=>p});var s,t,n=r(5043),i=r(7508);const l=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},o.apply(null,arguments)}function d(e,a){let{title:r,titleId:i}=e,d=function(e,a){if(null==e)return{};var r,s,t=function(e,a){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.includes(s))continue;r[s]=e[s]}return r}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],a.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}(e,l);return n.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:a,"aria-labelledby":i},d),r?n.createElement("title",{id:i},r):null,s||(s=n.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),t||(t=n.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})))}const m=n.forwardRef(d);r.p;var c=r(3330),u=(r(5868),r(579));const p=(0,i.Ng)(null,(e=>({setImage:a=>e((0,c.g7)(a)),setBase64Image:a=>e((0,c.po)(a))})))((e=>{let{setImage:a,image:r,setBase64Image:s}=e;const[t,i]=(0,n.useState)(r||null);return(0,u.jsxs)("div",{className:"image-upload",children:[(0,u.jsx)("label",{htmlFor:"file-input",children:t?(0,u.jsx)("form",{encType:"multipart/form-data",children:(0,u.jsx)("img",{src:t,className:"image-upload__img"})}):(0,u.jsx)(m,{className:"image-upload__img"})}),(0,u.jsx)("input",{type:"file",accept:"image/jpeg, image/png",name:"image",id:"file-input",onChange:e=>{let{target:r}=e;if(r.files&&r.files[0]){var t=new FileReader;t.onload=function(e){(async()=>{await i(e.target.result),await s(e.target.result)})()},a(r.files[0]),t.readAsDataURL(r.files[0])}}})]})}))},3581:(e,a,r)=>{r.r(a),r.d(a,{default:()=>v});var s=r(2555),t=r(5043),n=r(2466),i=r(1688),l=r(2582),o=r(2988),d=r(5868),m=r(7508),c=r(192),u=r(7708),p=r(2038),g=r(5240),h=r(2656),w=r(953),f=r(579);const j=(0,c.j8)({image:d.gG,currentUser:p.xu}),v=(0,m.Ng)(j,(e=>({setCurrentUser:a=>e((0,g.lt)(a)),setToken:a=>e((0,g.WG)(a)),displayMessage:a=>e((0,h.w)(a))})))((e=>{let{image:a,currentUser:r,setCurrentUser:d,setToken:c,displayMessage:p}=e;const[g,h]=(0,t.useState)({name:"",username:"",email:"",password:"",confirmPassword:""}),{type:j,message:v}=(0,m.d4)((e=>e.message)),x=e=>{const{value:a,name:r}=e.target;h((0,s.A)((0,s.A)({},g),{},{[r]:a}))};return(0,f.jsxs)(t.Fragment,{children:[j&&v?(0,f.jsx)(w.A,{type:j,message:v}):null,r?(0,f.jsx)(i.rd,{to:"/"}):(0,f.jsxs)("div",{className:"sign-up",children:[(0,f.jsxs)("div",{className:"user-data",children:[(0,f.jsx)("div",{className:"user-data__title title-margin",children:(0,f.jsx)("h2",{className:"heading-primary",children:"Sign Up"})}),(0,f.jsxs)("div",{className:"user-data__container",children:[(0,f.jsx)(n.A,{children:(0,f.jsx)("input",{type:"text",name:"name",id:"user-data-user-name",className:"input-margin",placeholder:"User Name",required:!0,value:g.name,onChange:x})}),(0,f.jsx)(n.A,{children:(0,f.jsx)("input",{type:"email",name:"email",id:"user-data-email",className:"input-margin",placeholder:"Email",required:!0,value:g.email,onChange:x})}),(0,f.jsx)(n.A,{children:(0,f.jsx)("input",{type:"password",name:"password",id:"user-data-password",className:"input-margin",placeholder:"Password",required:!0,value:g.password,onChange:x})}),(0,f.jsx)(n.A,{children:(0,f.jsx)("input",{type:"password",name:"confirmPassword",id:"user-data-confirm-password",className:"input-margin",placeholder:"Confirm Password",required:!0,value:g.confirmPassword,onChange:x})})]}),(0,f.jsxs)("div",{className:"user-data__button-container",children:[(0,f.jsx)("button",{onClick:async()=>{try{(()=>{if(!g.name.trim())throw new Error("User Name is mandatory.");if(!g.email.trim())throw new Error("Email is mandatory.");if(!g.password.trim())throw new Error("Password is mandatory.");if(g.password.length<4)throw new Error("Password has to contain at least 4 characters.");if(!g.confirmPassword.trim())throw new Error("Confirm Password is mandatory.");if(g.password!=g.confirmPassword)throw new Error("Password and Confirm Password don't match.")})();const{user:e,token:r}=await(0,u.Vl)("/users","POST",g);a&&await(0,u.Se)("/users/me/avatar",a,null,r),d(e),c(r)}catch(e){window.scrollTo(0,0),p({type:"error",message:e.message})}},children:"Sign Up"}),(0,f.jsx)(l.N_,{className:"user-data__button-container--sign-in",to:"/login",children:"Login"})]})]}),(0,f.jsxs)("div",{className:"sign-up__avatar",children:[(0,f.jsx)("h2",{className:"heading-primary title-margin",children:"Avatar"}),(0,f.jsx)(o.A,{})]})]})]})}))}}]);
//# sourceMappingURL=581.a323ee33.chunk.js.map