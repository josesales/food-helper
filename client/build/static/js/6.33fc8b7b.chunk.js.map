{"version":3,"sources":["redux/review/review-selector.js","assets/add-to-favorites.svg","assets/remove-from-favorites.svg","components/RecipeHeader.jsx","components/RecipeSteps.jsx","pages/Recipe.jsx"],"names":["selectReviewState","state","review","selectReviews","createSelector","reviewState","reviews","selectCurrentReview","currentReview","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAddToFavorites","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","d","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","ForwardRef","SvgRemoveFromFavorites","xmlnsXlink","x","y","style","enableBackground","xmlSpace","mapStateToProps","createStructuredSelector","recipe","selectCurrentRecipe","token","selectToken","currentUser","selectCurrentUser","connect","useState","isFavorite","setIsFavorite","useEffect","a","get","_id","recipeDb","onAddToMyFavoritesClick","postPatch","onRemoveFromMyFavoritesClick","remove","Fragment","className","name","Rate","number","rate","onClick","StepsUi","steps","map","step","index","type","ReviewItems","lazy","Review","dispatch","getReviewsByRecipe","recipeId","Media","image","containerClass","videoUrl","fallback","Loader","video"],"mappings":"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","file":"static/js/6.33fc8b7b.chunk.js","sourcesContent":["import { createSelector } from \"reselect\";\r\n\r\nconst selectReviewState = state => state.review;\r\n\r\nexport const selectReviews = createSelector([selectReviewState], reviewState => reviewState.reviews);\r\n\r\nexport const selectCurrentReview = createSelector([selectReviewState], reviewState => reviewState.currentReview);","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAddToFavorites(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.5 10c-2.483 0-4.5 2.015-4.5 4.5s2.017 4.5 4.5 4.5 4.5-2.015 4.5-4.5-2.017-4.5-4.5-4.5zm2.5 5h-2v2h-1v-2h-2v-1h2v-2h1v2h2v1zm-6.527 4.593c-1.108 1.086-2.275 2.219-3.473 3.407-6.43-6.381-12-11.147-12-15.808 0-4.005 3.098-6.192 6.281-6.192 2.197 0 4.434 1.042 5.719 3.248 1.279-2.195 3.521-3.238 5.726-3.238 3.177 0 6.274 2.171 6.274 6.182 0 .746-.156 1.496-.423 2.253-.527-.427-1.124-.768-1.769-1.014.122-.425.192-.839.192-1.239 0-2.873-2.216-4.182-4.274-4.182-3.257 0-4.976 3.475-5.726 5.021-.747-1.54-2.484-5.03-5.72-5.031-2.315-.001-4.28 1.516-4.28 4.192 0 3.442 4.742 7.85 10 13l2.109-2.064c.376.557.839 1.048 1.364 1.465z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddToFavorites);\nexport default __webpack_public_path__ + \"static/media/add-to-favorites.95ae548f.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRemoveFromFavorites(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 297 297\",\n    style: {\n      enableBackground: \"new 0 0 297 297\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M294.022,163.025c-1.908-1.906-4.494-2.978-7.191-2.978c0,0,0,0-0.002,0l-8.412,0.002 c10.531-19.093,15.892-38.284,15.892-57.211c0-43.374-35.288-78.662-78.663-78.662c-29.336,0-54.969,16.139-68.491,40.007 c-13.523-23.868-39.157-40.007-68.493-40.007C35.286,24.177,0,59.465,0,102.839c0,22.874,7.776,46.135,23.111,69.139 c11.905,17.857,28.404,35.631,49.041,52.827c34.752,28.961,69.012,46.224,70.454,46.945c1.432,0.716,2.988,1.073,4.548,1.073 c1.558,0,3.116-0.357,4.546-1.073c1.427-0.714,34.932-17.602,69.276-45.974l65.851-0.015c5.614-0.001,10.167-4.554,10.167-10.168 L297,170.218C297,167.52,295.93,164.934,294.022,163.025z M147.15,251.146c-23.177-12.618-126.812-73.263-126.812-148.308 c0-32.159,26.162-58.323,58.322-58.323c32.16,0,58.324,26.164,58.324,58.323c0,5.615,4.552,10.169,10.169,10.169 c5.615,0,10.169-4.554,10.169-10.169c0-32.159,26.162-58.323,58.322-58.323c32.16,0,58.324,26.164,58.324,58.323 c0,20.345-7.648,39.642-19.246,57.215l-76.762,0.016c-5.615,0.001-10.165,4.554-10.167,10.169l-0.004,45.378 c0,2.697,1.072,5.285,2.979,7.191c1.906,1.907,4.492,2.979,7.19,2.979c0.002,0,0.002,0,0.002,0l9.504-0.002 C169.86,238.334,154.477,247.15,147.15,251.146z M276.657,205.425l-88.526,0.02l0.003-25.039l88.527-0.018L276.657,205.425z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveFromFavorites);\nexport default __webpack_public_path__ + \"static/media/remove-from-favorites.6215ad5c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { lazy, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport Rate from './Rate';\r\nimport { selectCurrentRecipe } from '../redux/recipe/recipe-selector';\r\nimport { selectCurrentUser, selectToken } from '../redux/user/user-selector';\r\nimport { get, postPatch, remove } from '../util/request-sender';\r\nimport { ReactComponent as AddFavorites } from \"../assets/add-to-favorites.svg\";\r\nimport { ReactComponent as RemoveFavorites } from \"../assets/remove-from-favorites.svg\";\r\n\r\nconst RecipeHeader = ({ recipe, token, currentUser }) => {\r\n\r\n    const [isFavorite, setIsFavorite] = useState(null);\r\n\r\n    useEffect(async () => {\r\n        if (token) {\r\n            const recipeDb = await get(`/recipeByFavorite/${recipe._id}/${currentUser._id}`);\r\n            if (recipeDb) {\r\n                setIsFavorite(true);\r\n            } else {\r\n                setIsFavorite(false);\r\n            }\r\n        }\r\n    }, [])\r\n\r\n    const onAddToMyFavoritesClick = async () => {\r\n        //TODO check why new recipe of the favorite is not always being saved in the db\r\n        await postPatch('/favorites', 'POST', { recipe: recipe._id }, token);\r\n        setIsFavorite(true);\r\n    }\r\n\r\n    const onRemoveFromMyFavoritesClick = async () => {\r\n        await remove(`/favorites/${recipe._id}`, token);\r\n        setIsFavorite(false);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"recipe-header\">\r\n                <h1 className=\"heading-primary\">{recipe.name}</h1>\r\n\r\n\r\n                <div title=\"Rating Given by the Users\" className=\"recipe-header__rate\">\r\n                    <Rate number={recipe.rate} />\r\n                </div>\r\n\r\n                {\r\n                    token && isFavorite === false ?\r\n                        <div title=\"Add this Recipe to your Favorites\">\r\n                            <AddFavorites onClick={onAddToMyFavoritesClick} className=\"favorite-icon\" />\r\n                        </div> : ''\r\n                }\r\n\r\n                {\r\n                    token && isFavorite === true ?\r\n                        <div title=\"Remove this Recipe from your Favorites\">\r\n                            <RemoveFavorites onClick={onRemoveFromMyFavoritesClick} className=\"favorite-icon\" />\r\n                        </div> : ''\r\n                }\r\n            </div>\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    recipe: selectCurrentRecipe,\r\n    token: selectToken,\r\n    currentUser: selectCurrentUser,\r\n});\r\n\r\nexport default connect(mapStateToProps)(RecipeHeader);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentRecipe } from '../redux/recipe/recipe-selector';\r\n\r\nconst RecipeSteps = ({ recipe: { steps } = {} }) => {\r\n\r\n    const StepsUi = steps.map((step, index) => <li key={index}><p className=\"paragraph\">{step}</p></li>);\r\n\r\n    return (\r\n        <div title=\"Steps for Preparation\" className=\"recipe-steps\">\r\n            <ol className=\"recipe-steps__list\" type='1'>\r\n                {StepsUi}\r\n            </ol>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    recipe: selectCurrentRecipe\r\n});\r\n\r\nexport default connect(mapStateToProps)(RecipeSteps);\r\n","import React, { useEffect, lazy, Suspense } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport RecipeHeader from '../components/RecipeHeader';\r\nimport RecipeSteps from '../components/RecipeSteps';\r\nimport Loader from '../components/ui/Loader';\r\nimport Media from '../components/ui/Media';\r\nimport { selectCurrentRecipe } from '../redux/recipe/recipe-selector';\r\nimport { getReviewsByRecipe } from '../redux/review/review-actions';\r\nimport { selectReviews } from '../redux/review/review-selector';\r\nimport { selectCurrentUser } from '../redux/user/user-selector';\r\nconst ReviewItems = lazy(() => import('../components/ReviewItems'));\r\nconst Review = lazy(() => import('../components/Review'));\r\n\r\nconst Recipe = ({ recipe, getReviewsByRecipe, currentUser, reviews }) => {\r\n\r\n    useEffect(() => {\r\n        getReviewsByRecipe(recipe._id);\r\n    }, []);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <RecipeHeader />\r\n\r\n            <div className=\"recipe-container\">\r\n                <RecipeSteps />\r\n\r\n                <Media image={recipe.image} containerClass=\"image-container\" />\r\n\r\n            </div>\r\n\r\n            {\r\n                (reviews && reviews.length > 0) || recipe.videoUrl ?\r\n\r\n                    <div className=\"recipe-container\">\r\n                        {\r\n                            reviews && reviews.length > 0 ?\r\n                                <Suspense fallback={<Loader />}>\r\n                                    <ReviewItems />\r\n                                </Suspense>\r\n                                : currentUser ?\r\n                                    <Suspense fallback={<Loader />}>\r\n                                        <Review />\r\n                                    </Suspense> : ''\r\n                        }\r\n\r\n                        {\r\n                            recipe.videoUrl ? <Media video={recipe.videoUrl} containerClass=\"video-container\" /> : ''\r\n                        }\r\n                    </div> : ''\r\n            }\r\n\r\n            {\r\n                //if there is current user and also reviews then the review component should be rendered at the bottom\r\n                currentUser && reviews && reviews.length > 0 ?\r\n                    <Suspense fallback={<Loader />}>\r\n                        <Review />\r\n                    </Suspense> : ''\r\n            }\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    recipe: selectCurrentRecipe,\r\n    currentUser: selectCurrentUser,\r\n    reviews: selectReviews\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    getReviewsByRecipe: recipeId => dispatch(getReviewsByRecipe(recipeId))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Recipe);"],"sourceRoot":""}