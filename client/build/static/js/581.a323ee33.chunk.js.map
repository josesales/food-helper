{"version":3,"file":"static/js/581.a323ee33.chunk.js","mappings":"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","sources":["assets/upload.svg","components/ImageUpload.jsx","pages/SignUp.jsx"],"sourcesContent":["var _path, _path2;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.includes(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgUpload(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpload);\nexport default __webpack_public_path__ + \"static/media/upload.b287d90590cb369d9df1a28bf9a5844d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { ReactComponent as Upload } from \"../assets/upload.svg\";\r\nimport { setImage, setBase64Image } from '../redux/recipe/recipe-actions';\r\nimport { selectBase64Image } from '../redux/recipe/recipe-selector';\r\n\r\nconst ImageUpload = ({ setImage, image, setBase64Image }) => {\r\n\r\n    const [base64ImageState, setBase64ImageState] = useState(image ? image : null);\r\n\r\n\r\n    const onFileUploaded = ({ target }) => {\r\n        if (target.files && target.files[0]) {\r\n            var reader = new FileReader();\r\n\r\n            reader.onload = function (e) {\r\n                const setImg = async () => {\r\n                    await setBase64ImageState(e.target.result);\r\n                    await setBase64Image(e.target.result);\r\n                }\r\n                setImg();\r\n            };\r\n\r\n            setImage(target.files[0]);\r\n            reader.readAsDataURL(target.files[0]);\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"image-upload\">\r\n\r\n            <label htmlFor=\"file-input\">\r\n                {\r\n                    base64ImageState ?\r\n                        <form encType=\"multipart/form-data\">\r\n                            <img src={base64ImageState} className=\"image-upload__img\" />\r\n                        </form> :\r\n\r\n                        <Upload className=\"image-upload__img\" />\r\n                }\r\n            </label>\r\n\r\n            <input type=\"file\" accept=\"image/jpeg, image/png\" name=\"image\" id=\"file-input\" onChange={onFileUploaded} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setImage: image => dispatch(setImage(image)),\r\n    setBase64Image: base64Image => dispatch(setBase64Image(base64Image)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ImageUpload);","import React, { useState } from 'react';\r\nimport InputField from '../components/ui/InputField';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport ImageUpload from '../components/ImageUpload';\r\nimport { selectImage } from '../redux/recipe/recipe-selector';\r\nimport { connect, useSelector } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { postPatch, upload } from '../util/request-sender';\r\nimport { selectCurrentUser } from '../redux/user/user-selector';\r\nimport { setCurrentUser, setToken } from '../redux/user/user-actions';\r\nimport { displayMessage } from '../redux/message/message-actions';\r\nimport DisplayMessage from '../components/ui/DisplayMessage';\r\n\r\nconst SignUp = ({ image, currentUser, setCurrentUser, setToken, displayMessage }) => {\r\n\r\n  const [userState, setUserState] = useState({ name: '', username: '', email: '', password: '', confirmPassword: '' });\r\n\r\n  const { type, message } = useSelector(state => state.message);\r\n\r\n  const validateUser = () => {\r\n\r\n    if (!userState.name.trim()) {\r\n      throw new Error('User Name is mandatory.');\r\n    }\r\n    if (!userState.email.trim()) {\r\n      throw new Error('Email is mandatory.');\r\n    }\r\n    if (!userState.password.trim()) {\r\n      throw new Error('Password is mandatory.');\r\n    }\r\n    if (userState.password.length < 4 ) {\r\n      throw new Error('Password has to contain at least 4 characters.');\r\n    }\r\n    if (!userState.confirmPassword.trim()) {\r\n      throw new Error('Confirm Password is mandatory.');\r\n    }\r\n    if (userState.password != userState.confirmPassword) {\r\n      throw new Error(\"Password and Confirm Password don't match.\");\r\n    }\r\n  }\r\n\r\n  const onSignUpClick = async () => {\r\n    try {\r\n\r\n      validateUser();\r\n\r\n      const { user, token } = await postPatch('/users', 'POST', userState);\r\n\r\n      if (image) {\r\n        await upload('/users/me/avatar', image, null, token);\r\n      }\r\n\r\n      setCurrentUser(user);\r\n      setToken(token);\r\n    } catch (error) {\r\n      window.scrollTo(0, 0);\r\n      displayMessage({type:'error', message: error.message});\r\n    }\r\n  };\r\n\r\n  const onUserChange = event => {\r\n    const { value, name } = event.target;\r\n\r\n    setUserState({ ...userState, [name]: value });\r\n  };\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n      {\r\n          type && message ? <DisplayMessage type={type} message={message} /> : null\r\n      }\r\n\r\n      {\r\n        currentUser ? <Redirect to=\"/\" /> :\r\n\r\n\r\n          <div className='sign-up'>\r\n\r\n\r\n            <div className=\"user-data\">\r\n\r\n\r\n              <div className=\"user-data__title title-margin\">\r\n                <h2 className=\"heading-primary\">Sign Up</h2>\r\n              </div>\r\n\r\n              <div className=\"user-data__container\">\r\n\r\n                <InputField>\r\n                  <input type=\"text\" name=\"name\" id=\"user-data-user-name\" className=\"input-margin\" placeholder=\"User Name\" required value={userState.name}\r\n                    onChange={onUserChange} />\r\n                </InputField>\r\n\r\n                <InputField>\r\n                  <input type=\"email\" name=\"email\" id=\"user-data-email\" className=\"input-margin\" placeholder=\"Email\" required value={userState.email}\r\n                    onChange={onUserChange} />\r\n                </InputField>\r\n\r\n                <InputField>\r\n                  <input type=\"password\" name=\"password\" id=\"user-data-password\" className=\"input-margin\" placeholder=\"Password\" required value={userState.password}\r\n                    onChange={onUserChange} />\r\n                </InputField>\r\n\r\n                <InputField>\r\n                  <input type=\"password\" name=\"confirmPassword\" id=\"user-data-confirm-password\" className=\"input-margin\" placeholder=\"Confirm Password\" required\r\n                    value={userState.confirmPassword} onChange={onUserChange} />\r\n                </InputField>\r\n              </div>\r\n\r\n\r\n              <div className=\"user-data__button-container\">\r\n\r\n                <button onClick={onSignUpClick}>Sign Up</button>\r\n\r\n                <Link className=\"user-data__button-container--sign-in\" to='/login'>\r\n                  Login\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"sign-up__avatar\">\r\n              <h2 className=\"heading-primary title-margin\">Avatar</h2>\r\n              <ImageUpload />\r\n            </div>\r\n          </div>\r\n      }\r\n    </React.Fragment >\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  image: selectImage,\r\n  currentUser: selectCurrentUser\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setCurrentUser: user => dispatch(setCurrentUser(user)),\r\n  setToken: token => dispatch(setToken(token)),\r\n  displayMessage: msgObj => dispatch(displayMessage(msgObj)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n"],"names":["_path","_path2","_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","SvgUpload","_ref","svgRef","title","titleId","props","o","i","includes","_objectWithoutPropertiesLoose","getOwnPropertySymbols","s","propertyIsEnumerable","_objectWithoutProperties","xmlns","height","viewBox","width","ref","id","d","fill","ForwardRef","connect","dispatch","setImage","image","setBase64Image","base64Image","base64ImageState","setBase64ImageState","useState","_jsxs","className","children","_jsx","htmlFor","encType","src","Upload","type","accept","name","onChange","_ref2","target","files","reader","FileReader","onload","async","result","setImg","readAsDataURL","mapStateToProps","createStructuredSelector","selectImage","currentUser","selectCurrentUser","setCurrentUser","user","setToken","token","displayMessage","msgObj","userState","setUserState","username","email","password","confirmPassword","message","useSelector","state","onUserChange","event","value","_objectSpread","React","DisplayMessage","Redirect","to","InputField","placeholder","required","onClick","validateUser","trim","Error","postPatch","upload","error","window","scrollTo","Link","ImageUpload"],"sourceRoot":""}