{"version":3,"file":"static/js/931.185dd011.chunk.js","mappings":"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","sources":["components/Review.jsx","assets/delete.svg","components/ui/TextArea.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentRecipe } from '../redux/recipe/recipe-selector';\r\nimport { setCurrentRecipe } from '../redux/recipe/recipe-actions';\r\nimport { selectCurrentReview, selectReviews } from '../redux/review/review-selector';\r\nimport { selectCurrentUser } from '../redux/user/user-selector';\r\nimport { postPatch } from '../util/request-sender';\r\nimport Rate from './Rate';\r\nimport TextArea from './ui/TextArea';\r\nimport { setReviews } from '../redux/review/review-actions';\r\nimport { displayMessage } from '../redux/message/message-actions';\r\n\r\n\r\nconst Review = ({ currentUser, currentRecipe, reviews, currentReview, setReviews, displayMessage }) => {\r\n    \r\n    const reviewInitialState = {\r\n        message: '',\r\n        rate: 0,\r\n        user: currentUser._id,\r\n        recipe: currentRecipe._id\r\n    }\r\n\r\n    const [review, setReview] = useState(reviewInitialState);\r\n\r\n    const onMessageChange = e => {\r\n        setReview({ ...review, message: e.target.value });\r\n    }\r\n\r\n    const onAddReviewClick = async () => {\r\n\r\n        try {\r\n            if (!review.message.trim() || review.message.length < 5) {\r\n                window.scrollTo(0, 0);\r\n                displayMessage({type:'error', message: 'Please write a Comment about this Recipe with a minimal of 5 characters.'});\r\n                return;\r\n            }\r\n            \r\n            if (review.rate == 0) {\r\n                window.scrollTo(0, 0);\r\n                displayMessage({type:'error', message: 'Please give your Rate to this Recipe.'});\r\n                return;\r\n            }\r\n            \r\n            const didUserGiveReview = reviews.filter(review => review.user._id === currentUser._id);\r\n\r\n            if(didUserGiveReview.length > 0) {\r\n                window.scrollTo(0, 0);\r\n                displayMessage({type:'error', message: 'You already gave a review to this Recipe.'});\r\n                return;\r\n            }\r\n\r\n            const savedReview = await postPatch('/reviews', 'POST', review, currentUser.token);\r\n            savedReview.user = currentUser;\r\n\r\n\r\n            let recipeReviews = null;\r\n\r\n            recipeReviews = [].concat([savedReview]).concat(reviews);\r\n            setReviews(recipeReviews);\r\n\r\n            window.scrollTo(0, 0);\r\n            displayMessage({type:'success', message: 'Your Review has been added.'});\r\n\r\n            setReview(reviewInitialState);\r\n        } catch (e) {\r\n            window.scrollTo(0, 0);\r\n            displayMessage({type:'error', message: e.message});\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setReview({ ...review, ...currentReview });\r\n    }, [currentReview]);\r\n\r\n    return (\r\n        <div className=\"review-container\">\r\n            <div className=\"review-container__rate\">\r\n                <Rate currentUser={currentUser} />\r\n            </div>\r\n\r\n            <div className=\"text\">\r\n                <TextArea id=\"new-review\" placeholder=\"Write a Comment\" value={review.message} onChange={onMessageChange} />\r\n            </div>\r\n\r\n            <button className=\"input-margin\" onClick={onAddReviewClick}>Add Your Comment</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser,\r\n    currentRecipe: selectCurrentRecipe,\r\n    currentReview: selectCurrentReview,\r\n    reviews: selectReviews\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setCurrentRecipe: recipe => dispatch(setCurrentRecipe(recipe)),\r\n    setReviews: reviews => dispatch(setReviews(reviews)),\r\n    displayMessage: msgObj => dispatch(displayMessage(msgObj)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Review);","var _path, _path2, _path3;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.includes(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgDelete(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"-57 0 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.e23797be72b2b846abe06128f0379cd3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { lazy, Suspense } from 'react';\r\nimport { ReactComponent as DeleteIcon } from \"../../assets/delete.svg\";\r\n\r\nconst TextArea = props => {\r\n\r\n    const { id, placeholder, number, onDelete, ...otherProps } = props;\r\n\r\n    let LabelUi = null;\r\n\r\n    if (placeholder) {\r\n        LabelUi = <label htmlFor={id} className=\"text-area-container__label\">{placeholder}</label>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"text-area-container\">\r\n\r\n            <textarea {...otherProps} id={id} placeholder={placeholder}\r\n                className=\"text-area-container__text\" rows=\"4\" cols=\"100\"></textarea>\r\n            {LabelUi}\r\n            {\r\n                onDelete ?\r\n                    <span onClick={onDelete} >\r\n                        <DeleteIcon className=\"text-area-container__remove\" />\r\n                    </span>\r\n                    : ''\r\n            }\r\n            {\r\n                number ? <span className=\"text-area-container__number\" onClick={() => { }} >{number}.</span> : ''\r\n            }\r\n        </div>\r\n\r\n        // <div className=\"text-area\">\r\n\r\n        //     <textarea className=\"text-area__text\" id={id} rows=\"4\" cols=\"100\">{text}</textarea>\r\n        //     <span className=\"\">{HTML_ENTITIES.add}</span>\r\n        // </div>\r\n    );\r\n}\r\n\r\nexport default TextArea;\r\n"],"names":["mapStateToProps","createStructuredSelector","currentUser","selectCurrentUser","currentRecipe","selectCurrentRecipe","currentReview","selectCurrentReview","reviews","selectReviews","connect","dispatch","setCurrentRecipe","recipe","setReviews","displayMessage","msgObj","_ref","reviewInitialState","message","rate","user","_id","review","setReview","useState","useEffect","_objectSpread","_jsxs","className","children","_jsx","Rate","TextArea","id","placeholder","value","onChange","e","target","onClick","async","trim","length","window","scrollTo","type","didUserGiveReview","filter","savedReview","postPatch","token","recipeReviews","concat","_path","_path2","_path3","_excluded","_extends","Object","assign","bind","n","arguments","t","r","hasOwnProperty","call","apply","SvgDelete","svgRef","title","titleId","props","o","i","includes","_objectWithoutPropertiesLoose","getOwnPropertySymbols","s","propertyIsEnumerable","_objectWithoutProperties","height","viewBox","width","xmlns","ref","d","ForwardRef","number","onDelete","otherProps","LabelUi","htmlFor","rows","cols","DeleteIcon"],"sourceRoot":""}